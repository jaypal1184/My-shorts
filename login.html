<!-- Email/Password Login -->
<input type="email" id="email" placeholder="Email"><br>
<input type="password" id="password" placeholder="Password"><br>
<button onclick="emailLogin()">Login</button>

<!-- Google Sign-In -->
<button onclick="googleLogin()">Login with Google</button>

<!-- Phone Login -->
<input type="text" id="phone" placeholder="+91XXXXXXXXXX"><br>
<div id="recaptcha-container"></div>
<button onclick="sendOTP()">Send OTP</button>
<input type="text" id="otp" placeholder="Enter OTP">
<button onclick="verifyOTP()">Verify OTP</button>
<script>
  // Email/Password Login
  function emailLogin() {
    const email = document.getElementById("email").value;
    const pass = document.getElementById("password").value;
    auth.signInWithEmailAndPassword(email, pass)
      .then((userCred) => {
        alert("Logged in as " + userCred.user.email);
      }).catch((error) => {
        alert("Error: " + error.message);
      });
  }

  // Google Login
  function googleLogin() {
    const provider = new firebase.auth.GoogleAuthProvider();
    auth.signInWithPopup(provider)
      .then((result) => {
        alert("Google Sign-In: " + result.user.displayName);
      }).catch((error) => {
        alert("Google Login Error: " + error.message);
      });
  }

  // Phone Number Login
  let confirmationResult;

  window.onload = function () {
    window.recaptchaVerifier = new firebase.auth.RecaptchaVerifier('recaptcha-container', {
      'size': 'normal',
      'callback': function (response) {
        console.log("reCAPTCHA Verified");
      }
    });
    recaptchaVerifier.render();
  }

  function sendOTP() {
    const phoneNumber = document.getElementById("phone").value;
    const appVerifier = window.recaptchaVerifier;

    auth.signInWithPhoneNumber(phoneNumber, appVerifier)
      .then((result) => {
        confirmationResult = result;
        alert("OTP Sent");
      }).catch((error) => {
        alert("OTP Error: " + error.message);
      });
  }

  function verifyOTP() {
    const otp = document.getElementById("otp").value;
    confirmationResult.confirm(otp).then((result) => {
      alert("Phone Login Successful: " + result.user.phoneNumber);
    }).catch((error) => {
      alert("OTP Error: " + error.message);
    });
  }
</script>
